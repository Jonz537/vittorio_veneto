<template id="admin_temp">

    <div class="bodyChat" id="chat_div">

        <div class="chatadmin">

            <div class="chatHeader">
                <div class="profileName">ADMIN: </div>
                <div class="profileName" id="user_name"></div>
            </div>

            <div class="chatBody style-14 overflow-auto" id="messages_in_chat">
                <div class="search-bar">
                    <input id="searchInput" type="text" class="form-control" placeholder="Cerca per nome utente...">
                    <div class="sort-btns mt-2">
                        <!--
                        <button class="btn btn-outline-light btn-sm" onclick="sortTable(0)">Ordina per Nome</button>
                           <button class="btn btn-outline-light btn-sm" onclick="sortTable(1)">Ordina per Ruolo</button>
                           <button class="btn btn-outline-light btn-sm" onclick="sortTable(2)">Ordina per Stato</button>
                         -->
                    </div>
                </div>

                <table class="table table-bordered text-white table-hover">
                    <thead>
                    <tr>
                        <th onclick="sortTable(0)">Nome Utente </th>
                        <th onclick="sortTable(1)">Ruolo</th>
                        <th onclick="sortTable(2)">Stato</th>
                        <th>Banna</th>
                        <th>Sbanna</th>
                        <th>Promuovi</th>
                        <th>Declassa</th>
                    </tr>
                    </thead>
                    <tbody id="userTable">
                    <tr>
                        <td>MarioRossi</td>
                        <td>Utente</td>
                        <td class="status-attivo">Attivo</td>
                        <td><button class="btn btn-ban">Banna</button></td>
                        <td><button class="btn btn-secondary" disabled>Sbanna</button></td>
                        <td><button class="btn btn-promote">Promuovi</button></td>
                        <td><button class="btn btn-demote">Declassa</button></td>
                    </tr>
                    </tbody>
                </table>

                <script>
                    document.getElementById("searchInput").addEventListener("keyup", function () {
                        let filter = this.value.toLowerCase();
                        let rows = document.querySelectorAll("#userTable tr");
                        rows.forEach(row => {
                            let username = row.cells[0].textContent.toLowerCase();
                            row.style.display = username.includes(filter) ? "" : "none";
                        });
                    });

                    function sortTable(n) {
                        let table = document.getElementById("userTable");
                        let rows = Array.from(table.rows);
                        let sorted = false;
                        while (!sorted) {
                            sorted = true;
                            for (let i = 0; i < rows.length - 1; i++) {
                                let x = rows[i].cells[n].textContent.toLowerCase();
                                let y = rows[i + 1].cells[n].textContent.toLowerCase();
                                if (x > y) {
                                    [rows[i], rows[i + 1]] = [rows[i + 1], rows[i]];
                                    sorted = false;
                                }
                            }
                        }
                        rows.forEach(row => table.appendChild(row));
                    }
                </script>
            </div>
        </div>
    </div>
</template>

